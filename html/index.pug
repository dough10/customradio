doctype html
html(lang=lang)
  head
    meta(charset="UTF-8")
    meta(name="author" content="dough10")
    meta(name="apple-mobile-web-app-title" content="radio.txt creator")
    meta(name="mobile-web-app-capable" content="yes")
    meta(name="apple-mobile-web-app-status-bar-style" content="black-translucent")
    meta(name="copyright" content="Â© 2025 dough10")
    meta(name="color-scheme" content="light dark")
    meta(name="description" content="An online radio station browser with the ability to export .txt files for use in Hiby digital audio players")
    meta(name="format-detection" content="telephone=no")
    meta(name="keywords" content="radio.txt creator, online radio, radio.txt")
    meta(name="robots" content="index, follow")
    meta(name="theme-color" content="#161616")
    meta(name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover")
    meta(http-equiv="Cache-control" content="public")
    meta(property="og:type" content="website")
    meta(property="og:title" content="radio.txt creator")
    meta(property="og:description" content="An online radio station browser with the ability to export .txt files for use in Hiby digital audio players")
    meta(property="og:image" content="/apple-touch-icon.png")
    meta(property="og:url" content="https://radiotxt.site")
    meta(name="twitter:card" content="summary_large_image")
    meta(name="twitter:title" content="radio.txt creator")
    meta(name="twitter:description" content="An online radio station browser with the ability to export .txt files for use in Hiby digital audio players")
    meta(name="twitter:image" content="/apple-touch-icon.png")
    meta(name="csrf-token" content=csrf)
    link(rel="canonical" href="https://radiotxt.site")
    link(rel="manifest" href="customradio.webmanifest")
    link(rel="apple-touch-icon" href="/apple-touch-icon.png")
    link(rel="icon" href="favicon.ico" type="image/x-icon")
    link(rel="dns-prefetch" href="https://analytics.dough10.me")
    link(rel="preconnect" href="https://analytics.dough10.me" crossorigin)
    //- link(rel="preload" href="styles.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'")
    //- noscript 
    //-   link(rel='stylesheet' href='styles.min.css')
    link(rel="preload" href="styles.min.css" as="style")
    link(rel='stylesheet' href='styles.min.css')
    script(nonce=nonce, type="text/javascript") window.user = !{JSON.stringify(user)};
    script(nonce=nonce, type="text/javascript", defer) var _paq = window._paq = window._paq || []; _paq.push(["trackPageView"]); _paq.push(["enableLinkTracking"]); (function() { var a = "https://analytics.dough10.me/"; _paq.push(["setTrackerUrl", a + "matomo.php"]); _paq.push(["setSiteId", "2"]); var e = document, t = e.createElement("script"), p = e.getElementsByTagName("script")[0]; t.async = true; t.src = a + "matomo.js"; p.parentNode.insertBefore(t, p);})();
    title #{title}
    script(nonce=nonce, type="application/ld+json")
      | {"@context":"https://schema.org","@type":"WebSite","name":"radio.txt creator","url":"https://radiotxt.site","description":"An online radio station browser with the ability to export .txt files for use in Hiby digital audio players."}
  
  body
    #alert.alert
      #reset-text
        #matomo-opt-out
        script(nonce=nonce, defer type="text/javascript" src="https://analytics.dough10.me/index.php?module=CoreAdminHome&action=optOutJS&divId=matomo-opt-out&language=auto&showIntro=1")
      .yellow-text(title=clickDismiss) #{clickDismiss}

    nav#user-menu
      header
        .avatar-wrapper
          | ?
        .firstname
          | John 
        .lastname
          | Doe
          
      button.menu-button(title='login')
        svg(viewBox="0 -960 960 960" alt='login', fill="currentColor" )
          path(d="M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160Zm0-360q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm0-60Zm0 360Z")
        | login

      button.menu-button(title='share')
        svg(viewBox="0 -960 960 960" alt='download', fill="currentColor" )
          path(d="M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Zm0-80q17 0 28.5-11.5T720-200q0-17-11.5-28.5T680-240q-17 0-28.5 11.5T640-200q0 17 11.5 28.5T680-160ZM200-440q17 0 28.5-11.5T240-480q0-17-11.5-28.5T200-520q-17 0-28.5 11.5T160-480q0 17 11.5 28.5T200-440Zm480-280q17 0 28.5-11.5T720-760q0-17-11.5-28.5T680-800q-17 0-28.5 11.5T640-760q0 17 11.5 28.5T680-720Zm0 520ZM200-480Zm480-280Z")
        | share download link

      button.menu-button(title='logout')
        svg(viewBox="0 -960 960 960" alt='logout', fill="currentColor" )
          path(d="M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160Zm0-360q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm0-60Zm0 360Z")
        | logout

    header
      .form-group
        input.w93(placeholder=filterLabel type="text" id="filter" name="filter" list="genres")
        label(for="filter") #{filterLabel}:
        datalist#genres
        button(type="button" class="small-button reset" title="reset")
          svg(viewBox="0 0 24 24" alt='reset')
            path(fill="currentColor" d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")

      button.button(type="button" id="download" disabled title=downloadButtonText)
        svg(viewBox="0 -960 960 960" alt='download')
          path(fill="currentColor" d="M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z")
        span #{downloadButtonText}

      button#login.small-button(title="login")
        svg(viewBox="0 -960 960 960" alt='login', fill="currentColor" )
          path(d="M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160Zm0-360q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm0-60Zm0 360Z")

      button#info.small-button(title="Info")
        svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor" alt='info')
          path(d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z")

    main
      div#station-count(aria-live='polite') 0 #{stations}
      ul#stations

    section.player(role="region" aria-label="Audio Player")
      span#name station name
      label#vol
        span #{volume}
        input(type="range" min="0" max="100" aria-label="Volume control" role='slider')
      span#bitrate 0kbps
      button.small-button.player-big(type="button" title='Play/Pause')
        svg(viewBox="0 -960 960 960" id="play-button" alt='play/pause')
          path(fill="currentColor" d="M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z")

    button.to-top.small-button.hidden(type="button" title='Scroll to top')
      svg(viewBox="0 0 24 24" alt='up arrow')
        path(fill="currentColor" d="M15,20H9V12H4.16L12,4.16L19.84,12H15V20Z")

    button#add_button.fab(type="button" title=addStation)
      svg(viewBox="0 0 24 24" alt='add')
        path(fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z")

    dialog#greeting(lang=lang role='dialog' aria-labelledby='greeting-title')
      h1#greeting-title #{title}
      p
        | #{intro} 
        a(href="https://store.hiby.com/collections/music-player" target="_blank") #{hibyLink}
      p
        | #{siteUse}: <br /> 1. #{step1}
      p
        | 2. #{step2}
      button.button.close(type="button" autofocus title=closeButtonText)
        svg(viewBox="0 0 24 24" alt='close')
          path(fill="currentColor" d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")
        span #{closeButtonText}

    dialog#add(lang=lang role='dialog' aria-labelledby='add-title')
      button.small-button.close(type="button" autofocus title=closeButtonText)
        svg(viewBox="0 0 24 24" alt='close')
          path(fill="currentColor" d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")
      h1#add-title #{addStation}
      div
        p #{addCase1}
        p #{addCase2}
        form#add-stream.form-group
          input(placeholder=stationURL type="url" id="station-url" name="url" required)
          label(for="station-url") #{stationURL}:
          div#response
          button#submit-stream.button(type="submit" disabled, title=addButtonText)
            svg(viewBox="0 0 24 24")
              path(fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z")
            span #{addButtonText}

    dialog#info-dialog(lang=lang role='dialog' aria-labelledby='info-title')
      button.small-button.close(type="button" autofocus title=closeButtonText)
        svg(viewBox="0 0 24 24" alt='close')
          path(fill="currentColor" d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")
      
      h1#info-title v?.?.?
      .scrollable
        p.margin-bottom-24 #{thanks} <br />
          a(href='https://paypal.me/jdough10' target="_blank" rel="noopener noreferrer") paypal.me/jdough10
        h2.margin-bottom-24 Change Log
        #changelog
        | Complete Changelog: 
        a(href="changelog.txt" target="_blank" rel="noopener noreferrer") changelog.txt
        h2.margin-top-24.margin-bottom-24 App Stack
        div
          h3 Frontend:
          ul 
            li
              a(href="https://fonts.google.com/" target="_blank") Google Fonts
            li
              a(href="https://fonts.google.com/icons" target="_blank") Material Icons
            li
              | Vanilla JS
            li
              | HTML5 Audio

          h3  Backend:
          ul#dependencies
            li 
              a(href="https://nodejs.org" target="_blank") NodeJS: 22
            li
              a(href="https://www.sqlite.org/" target="_blank") SQLite: 3.4

          h3 Data:
          ul 
            li 
              a(href="https://dir.xiph.org/" target="_blank") Icecast directory

      .flex-row
        svg.margin-right-8(height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" alt='github')
          path(fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z")
        a(href="https://github.com/dough10" target="_blank") github.com/dough10
      
      br
      span
        | #{securityContact}: 
        a(href=".well-known/security.txt" target="_blank") security.txt

    dialog#linkshare(lang=lang role="dialog" aria-labelledby="linkshare-title" aria-describedby="linkshare-description")
      button.small-button.close(type="button" autofocus title=closeButtonText)
        svg(viewBox="0 0 24 24" alt='close')
          path(fill="currentColor" d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")
            
      h1#linkshare-title #{shareDownloadLink}
      p#linkshare-description #{linkshareInstructions}
      
      input(type="text" id="linkshare-input" readonly)
      
      button.button#copy-link(type="button" title=copyLinkText)
        svg(viewBox="0 -960 960 960" alt='close')
          path(fill="currentColor" d="M120-220v-80h80v80h-80Zm0-140v-80h80v80h-80Zm0-140v-80h80v80h-80ZM260-80v-80h80v80h-80Zm100-160q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480Zm40 240v-80h80v80h-80Zm-200 0q-33 0-56.5-23.5T120-160h80v80Zm340 0v-80h80q0 33-23.5 56.5T540-80ZM120-640q0-33 23.5-56.5T200-720v80h-80Zm420 80Z") 
        span #{copyLinkText}

      div#linkshare-message(aria-live='polite')

      #social-media
        button#facebookshare.small-button(title='facebook' aria-label='Share on Facebook')
          svg(viewBox="-337 273 123.5 256" alt='facebook')
            path(fill="currentColor" d="M-260.9,327.8c0-10.3,9.2-14,19.5-14c10.3,0,21.3,3.2,21.3,3.2l6.6-39.2c0,0-14-4.8-47.4-4.8c-20.5,0-32.4,7.8-41.1,19.3c-8.2,10.9-8.5,28.4-8.5,39.7v25.7H-337V396h26.5v133h49.6V396h39.3l2.9-38.3h-42.2V327.8z")
    
        button#twittershare.small-button(title='X' aria-label='Share on X (formerly Twitter)')
          svg(viewBox="0 0 1200 1227" alt='X / Twitter')
            path(fill="currentColor" d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z")

        button#emailshare.small-button(title='Email' aria-label='Share in Email')
          svg(viewBox="0 -960 960 960" alt='Email')
            path(fill="currentColor" d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480v58q0 59-40.5 100.5T740-280q-35 0-66-15t-52-43q-29 29-65.5 43.5T480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480v58q0 26 17 44t43 18q26 0 43-18t17-44v-58q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93h200v80H480Zm0-280q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z")

        button#smsshare.small-button(title='SMS' aria-label='Share with SMS')
          svg(viewBox="0 -960 960 960" alt='SMS')
            path(fill="currentColor" d="M320-520q17 0 28.5-11.5T360-560q0-17-11.5-28.5T320-600q-17 0-28.5 11.5T280-560q0 17 11.5 28.5T320-520Zm160 0q17 0 28.5-11.5T520-560q0-17-11.5-28.5T480-600q-17 0-28.5 11.5T440-560q0 17 11.5 28.5T480-520Zm160 0q17 0 28.5-11.5T680-560q0-17-11.5-28.5T640-600q-17 0-28.5 11.5T600-560q0 17 11.5 28.5T640-520ZM80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Zm126-240h594v-480H160v525l46-45Zm-46 0v-480 480Z")

    script(nonce=nonce, src="bundle.min.js" async) 
